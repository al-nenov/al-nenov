(this["webpackJsonpreact-shop"]=this["webpackJsonpreact-shop"]||[]).push([[0],{123:function(e,t,a){e.exports=a(147)},129:function(e,t,a){},136:function(e,t,a){},147:function(e,t,a){"use strict";a.r(t);a(124);var r=a(0),n=a.n(r),c=a(32),l=a.n(c),o=(a(129),a(56)),u=a(81),s=a(97);o.b.add(u.c,u.a,s.a,u.b);var i=a(11),m=(a(136),a(114)),p=a(176),d=a(167),E=a(16),f="CHECK_USER_SESSION",b="LOGIN_USER_START",h="LOGIN_USER_SUCCESS",g="LOGIN_USER_FAILURE",v="SIGNUP_USER_START",O="SIGNUP_USER_FAILURE",j="SIGNOUT_USER_START",y="SIGNOUT_USER_SUCCESS",w="SIGNOUT_USER_FAILURE",k=function(e){return{type:g,payload:e}},x=a(165),_=a(99),S=a.n(_),N=function(){var e=Object(i.d)((function(e){return e.cart.cartItems})).reduce((function(e,t){return e+t.qty}),0);return n.a.createElement(x.a,{badgeContent:e,color:"secondary"},n.a.createElement(S.a,null))},T=function(){var e=Object(i.d)((function(e){return e.userAuth.currentUser})),t=Object(i.c)(),a=function(){t({type:j})},r=n.a.createElement(m.a.Link,{className:"nav-link",onClick:function(){return a()}},"Log Out"),c=n.a.createElement(E.c,{className:"nav-link",to:"/login"},"Login");return n.a.createElement(p.a,{bg:"dark",variant:"dark",expand:"md"},n.a.createElement(d.a,null,n.a.createElement(p.a.Brand,null,n.a.createElement(E.c,{className:"nav-link",to:"/"},"Home")),n.a.createElement(p.a.Toggle,{"aria-controls":"basic-navbar-nav"}),n.a.createElement(p.a.Collapse,null,n.a.createElement(m.a,null,n.a.createElement(E.c,{className:"nav-link",to:"/about"},"About")),n.a.createElement(m.a,{className:"mr-auto"},n.a.createElement(E.c,{className:"nav-link",to:"/dashboard"},"My profile")),n.a.createElement(m.a,{className:"justify-content-end"},n.a.createElement(E.c,{className:"nav-link cart-items mr-2",to:"/cart"},n.a.createElement(N,null)),e&&r,e?n.a.createElement(p.a.Text,null,"Signed in as: ",n.a.createElement(E.b,{to:"/dashboard"},e.displayName||e.email)):c))))},C=a(21),R=function(){return n.a.createElement("div",{className:"page about-page"},n.a.createElement("section",null,n.a.createElement("h2",null,"Overview"),n.a.createElement("p",null,"Simple store app built with React. The purpoupse of this project is to learn and master the React and Redux foundations."),n.a.createElement("p",null,n.a.createElement("del",null,"The app uses localStorage to store and read any user information. If any conflict is caused by already stored data you can clear localStorage or open the app in incognito mode")),n.a.createElement("p",null,"The authentication and products data is stored on firebase")),n.a.createElement("section",null,n.a.createElement("h2",null,"What you can do with this app"),n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement(E.b,{to:"/login"},"Create or login to your account")),n.a.createElement("li",null,"Add or remove products to your favorites list *"),n.a.createElement("li",null,"Add products to Cart"),n.a.createElement("li",null,"Remove products from cart"),n.a.createElement("li",null,"Empty cart"),n.a.createElement("li",null,n.a.createElement("del",null,"Complete order *")),n.a.createElement("li",null,"See your orders and favourited products in your"," ",n.a.createElement(E.b,{to:"/dashboard"},"dashboard")," *"),n.a.createElement("span",{className:"font-italic"},"* You need to be logged in"))),n.a.createElement("section",null,n.a.createElement("h2",null,"Project on Github"),n.a.createElement("a",{href:"https://github.com/al-nenov/react-shop",target:"_blank",rel:"noopener noreferrer"},"https://github.com/al-nenov/react-shop")),n.a.createElement("section",null,n.a.createElement("h2",null,"Live Demo"),n.a.createElement("a",{href:"https://al-nenov.github.io/react-shop/",target:"_blank",rel:"noopener noreferrer"},"https://al-nenov.github.io/react-shop/")),n.a.createElement("section",null,n.a.createElement("h2",null,"Packages"),n.a.createElement("ul",null,n.a.createElement("li",null,"React"),n.a.createElement("li",null,"Redux"),n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement("del",null,n.a.createElement("a",{href:"https://www.npmjs.com/package/redux-thunk",target:"_blank",rel:"noopener noreferrer"},"Thunk"))),n.a.createElement("li",null,n.a.createElement("a",{href:"https://redux-saga.js.org/",target:"_blank",rel:"noopener noreferrer"},"Redux-Saga")),n.a.createElement("li",null,n.a.createElement("a",{href:"https://www.npmjs.com/package/redux-persist",target:"_blank",rel:"noopener noreferrer"},"Persist"))),n.a.createElement("li",null,n.a.createElement("a",{href:"https://firebase.google.com/",target:"_blank",rel:"noopener noreferrer"},"Firebase")),n.a.createElement("li",null,n.a.createElement("a",{href:"https://www.npmjs.com/package/react-router-dom",target:"_blank",rel:"noopener noreferrer"},"Router")),n.a.createElement("li",null,n.a.createElement("a",{href:"https://www.npmjs.com/package/prop-types",target:"_blank",rel:"noopener noreferrer"},"Prop Types")),n.a.createElement("li",null,n.a.createElement("a",{href:"https://www.npmjs.com/package/react-hook-form",target:"_blank",rel:"noopener noreferrer"},"React Hook Form")),n.a.createElement("del",null,n.a.createElement("li",null,n.a.createElement("a",{href:"https://www.npmjs.com/package/react-js-pagination",target:"_blank",rel:"noopener noreferrer"},"React js pagination"))),n.a.createElement("li",null,n.a.createElement("a",{href:"https://www.npmjs.com/package/react-bootstrap",target:"_blank",rel:"noopener noreferrer"},"React Bootstrap")),n.a.createElement("li",null,n.a.createElement("a",{href:"https://material-ui.com/",target:"_blank",rel:"noopener noreferrer"},"Material-UI")),n.a.createElement("li",null,n.a.createElement("a",{href:"https://www.npmjs.com/package/@fortawesome/react-fontawesome",target:"_blank",rel:"noopener noreferrer"},"Font Awesome")),n.a.createElement("li",null,n.a.createElement("a",{href:"https://www.npmjs.com/package/react-toastify",target:"_blank",rel:"noopener noreferrer"},"React Toastify")))))},I=a(115),U=function(e){var t=e.children,a=Object(I.a)(e,["children"]),r=Object(i.d)((function(e){return e.userAuth.currentUser}));return n.a.createElement(C.b,Object.assign({},a,{render:function(e){var a=e.location;return r?t:n.a.createElement(C.a,{to:{pathname:"/login",state:{from:a}}})}}))},P=a(25),A=a(170),L=a(175),F=a(107),D=a(178),G=a(168),K="ADD_PRODUCT_TO_CART",q="REMOVE_ITEM_FROM_CART",B="EMPTY_CART",H=function(e){var t=e.product,a=Object(i.c)();return n.a.createElement("div",{className:"add-to-cart mx-auto my-2"},n.a.createElement(G.a,{variant:"contained",color:"primary",onClick:function(){a({type:K,payload:t})}},"Add to cart"))},M=function(e){var t=e.price,a=e.currency,r=void 0===a?"\u043b\u0432.":a;return t=t.toFixed(2),n.a.createElement("span",{className:"product-price"},t," ",n.a.createElement("span",{className:"product-price-currency"},r))},V=function(){var e=Object(r.useState)(!1),t=Object(P.a)(e,2),a=t[0],n=t[1],c=Object(r.useRef)(null),l=function(){n(!0)},o=function(){n(!1)};return Object(r.useEffect)((function(){var e=c.current;return e.addEventListener("mouseenter",l),e.addEventListener("mouseleave",o),function(){e.removeEventListener("mouseenter",l),e.removeEventListener("mouseleave",o)}}),[]),[a,c]},Y="TOGLE_FAVORITE",W=a(105),X=a.n(W),J=a(106),z=a.n(J),Q=a(169),Z=function(e){var t=e.productId,a=Object(i.c)(),r=V(),c=Object(P.a)(r,2),l=c[0],o=c[1],u=Object(i.d)((function(e){return e.favorites})).some((function(e){return e===t})),s=function(e){a({type:Y,payload:e})};return n.a.createElement("span",{ref:o,className:"favorites-icon"},n.a.createElement(Q.a,{onClick:function(){return s(t)},style:{color:"red"}},l||u?n.a.createElement(X.a,null):n.a.createElement(z.a,null)))},$=function(e){var t=e.id,a=e.image,r=e.color,c=e.price,l=e.title,o=Object(i.d)((function(e){return e.userAuth.currentUser}));return n.a.createElement(F.a,{md:4,sm:"auto",className:"product mb-5"},n.a.createElement(D.a,null,o?n.a.createElement(Z,{productId:t}):null,n.a.createElement(E.b,{to:"product/".concat(t)},n.a.createElement(D.a.Img,{variant:"top",src:"/react-shop/images/products/"+a}),n.a.createElement(D.a.Body,null,n.a.createElement(D.a.Title,null,l),n.a.createElement(D.a.Text,null,"Color: ",r),n.a.createElement(D.a.Text,null,"Price: ",n.a.createElement(M,{price:c})))),n.a.createElement(H,{product:e})))},ee="FETCH_PRODUCTS_START",te="FETCH_PRODUCTS_SUCCESS",ae="FETCH_PRODUCTS_ERROR",re=Object(i.b)((function(e){return{allProducts:e.products.allProducts,isLoading:e.products.isLoading}}),(function(e){return{fetchProducts:function(){return e({type:ee})}}}))((function(e){var t=e.allProducts,a=e.fetchProducts,c=e.isLoading,l=Object(r.useState)(1),o=Object(P.a)(l,2),u=o[0],s=o[1],i=Object(r.useState)({firstProduct:0,lastProduct:6}),m=Object(P.a)(i,2),p=m[0],d=m[1];Object(r.useEffect)((function(){a()}),[]);var E=t.slice(p.firstProduct,p.lastProduct).map((function(e){return n.a.createElement($,Object.assign({key:e.id},e))}));return n.a.createElement(n.a.Fragment,null,n.a.createElement(A.a,{className:"justify-content-center products"},c?"Loading...":E),n.a.createElement(L.a,{color:"primary",page:u,count:t.length/6,onChange:function(e,t){s(t);var a=6*t;d({firstProduct:a-6,lastProduct:a})}}))})),ne=a(177),ce=Object(i.b)((function(e){return{products:e.products.allProducts,cart:e.cart}}))((function(e){var t=e.products,a=e.match,r=parseInt(a.params.id),c=t.find((function(e){return e.id===r})),l=Object(i.d)((function(e){return e.userAuth.currentUser}));if(!c)return n.a.createElement(C.a,{to:"/not-found"});var o=c.image,u=c.title,s=c.description,m=c.price,p=c.color,d=c.id;return n.a.createElement(A.a,null,n.a.createElement(F.a,{md:6,sl:"auto"},n.a.createElement(ne.a,null,n.a.createElement(ne.a.Image,{src:"/react-shop/images/products/"+o,fluid:!0}))),n.a.createElement(F.a,{md:6,sl:"auto"},n.a.createElement(D.a,null,n.a.createElement(D.a.Body,null,n.a.createElement(D.a.Title,null,u),n.a.createElement(D.a.Text,null,s),n.a.createElement(D.a.Text,null,"Price: ",n.a.createElement(M,{price:m})),n.a.createElement(D.a.Text,null,"Color: ",p),n.a.createElement(H,{product:c})),l?n.a.createElement(Z,{productId:d}):null)))})),le=a(174),oe=a(171),ue=a(116),se=function(e){var t=e.action,a=Object(ue.a)({mode:"onBlur"}),r=a.register,c=a.handleSubmit,l=a.errors,o=a.setError,u=a.reset;return n.a.createElement(le.a,{onSubmit:c((function(e,a){t(e,o,u)}))},n.a.createElement(le.a.Group,null,n.a.createElement(le.a.Label,null,"E-mail"),n.a.createElement(le.a.Control,{id:"email",ref:r({required:"Cannot be empty",maxLength:20}),type:"email",name:"email",placeholder:"Email"}),n.a.createElement("p",{className:"text-danger"},l.email&&l.email.message)),n.a.createElement(le.a.Group,null,n.a.createElement(le.a.Label,null,"Password"),n.a.createElement(le.a.Control,{type:"password",name:"password",placeholder:"Password",ref:r({required:"Password can not be empty",validate:{passwordLength:function(e){return e.length>=6}}})}),n.a.createElement("p",{className:"text-danger"},l.password&&l.password.message,l.password&&"passwordLength"===l.password.type&&n.a.createElement("p",null,"Your password must be atleast 6 symbols"),l.login&&l.login.message)),n.a.createElement(oe.a,{variant:"primary",type:"submit"},"Submit"))},ie=function(){var e=Object(i.c)();return n.a.createElement(D.a,{className:"p-5"},n.a.createElement("h3",null,"Log In to your account"),n.a.createElement(se,{action:function(t){return e(function(e){return{type:b,payload:e}}(t))}}),n.a.createElement(E.b,{to:"/signup",className:"pt-3"},"Don't have an account? Signup here"))},me=function(){var e=Object(i.c)();return n.a.createElement(D.a,{className:"p-5"},n.a.createElement("h3",null,"Create new account"),n.a.createElement(se,{action:function(t,a,r){e({type:v,payload:t})}}),n.a.createElement(E.b,{to:"/login",className:"pt-3"},"Already have an account? Login here"))},pe=a(108),de=a.n(pe),Ee=function(e){var t=e.price,a=100*t;return n.a.createElement(de.a,{label:"Pay now",name:"React Shop",billingAddress:!0,shippingAddress:!0,description:"Your totals is ".concat(t," \u043b\u0432."),amount:a,panelLabel:"Pay Now",token:function(e){alert("Payment Successful")},stripeKey:"pk_test_51I3k3pKmRuDfUJAATsMAjdi2UbqsjSnCvwboDrKO3kQL2VJKIv5kKva83zV3k93QV3efCo9xr6HGt1HWKcwfaO5C00jcl6kjaR"})},fe=function(e){var t=e.total,a=Object(i.d)((function(e){return e.userAuth.currentUser}));return n.a.createElement(D.a,{className:"p-4"},n.a.createElement("h5",null,"Cart Totals:"),n.a.createElement("p",null,"Total : ",n.a.createElement(M,{price:t})),!a&&n.a.createElement("div",null,n.a.createElement("p",{className:"text-warning"},"You need to be logged in to complete an order"),n.a.createElement(E.b,{to:"/login"},"Login here")),n.a.createElement(Ee,{price:t}),n.a.createElement(oe.a,{variant:"secondary",onClick:function(){},disabled:!a},"Complete order"))},be=a(109),he=a(78),ge=function(e){var t=e.item,a=t.id,r=t.image,c=t.title,l=t.qty,o=t.price,u=Object(i.c)(),s=function(e){u({type:q,payload:e})},m=n.a.createElement(E.b,{to:"product/".concat(a)},n.a.createElement(ne.a,{className:"mx-2"},n.a.createElement(ne.a.Image,{width:50,src:"/react-shop/images/products/"+r,fluid:!0})),c);return n.a.createElement("tr",null,n.a.createElement("td",null,n.a.createElement(he.a,{onClick:function(){return s(a)}},n.a.createElement(be.a,{icon:"times"}))),n.a.createElement("td",null,a),n.a.createElement("td",null,m),n.a.createElement("td",null,n.a.createElement(M,{price:o})),n.a.createElement("td",null,l),n.a.createElement("td",null,n.a.createElement(M,{price:o*l})))},ve=a(172),Oe=function(){var e=Object(r.useState)(0),t=Object(P.a)(e,2),a=t[0],c=t[1],l=Object(i.c)(),o=Object(i.d)((function(e){return e.cart.cartItems}));if(Object(r.useEffect)((function(){var e=0;o.forEach((function(t){e+=t.price*t.qty})),c(e)}),[o]),!o.length)return n.a.createElement(C.a,{to:"/"});var u=o.map((function(e){return n.a.createElement(ge,{key:e.id,item:e})}));return n.a.createElement(n.a.Fragment,null,n.a.createElement("h3",{className:"py-3"},"Checkout"),n.a.createElement(ve.a,null,n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null),n.a.createElement("th",null,"id"),n.a.createElement("th",null,"Product"),n.a.createElement("th",null,"Price"),n.a.createElement("th",null,"Qty"),n.a.createElement("th",null,"Total"))),n.a.createElement("tbody",null,u)),n.a.createElement(A.a,null,n.a.createElement(F.a,null,n.a.createElement(oe.a,{variant:"outline-secondary",onClick:function(){l({type:B})}},"Empty cart")),n.a.createElement(F.a,null,n.a.createElement(fe,{total:a,items:o}))))},je=function(e){var t=e.item,a=t.id,r=t.image,c=t.title,l=t.price,o=t.qty,u=n.a.createElement(E.b,{to:"product/".concat(a)},n.a.createElement(ne.a,{className:"mx-2"},n.a.createElement(ne.a.Image,{width:50,src:"/react-shop/images/products/"+r,fluid:!0})),c);return n.a.createElement("tr",null,n.a.createElement("td",null,a),n.a.createElement("td",null,u),n.a.createElement("td",null,n.a.createElement(M,{price:l})),n.a.createElement("td",null,o),n.a.createElement("td",null,n.a.createElement(M,{price:l*o})))},ye=function(){var e=Object(i.d)((function(e){return e.orders})).map((function(e){return n.a.createElement(je,{key:e.id,order:e})}));return n.a.createElement(n.a.Fragment,null,n.a.createElement("h3",{className:"py-3"},"Your orders"),e)},we=function(e){var t=e.item,a=t.id,r=t.image,c=t.title,l=t.price,o=n.a.createElement(E.b,{to:"product/".concat(a)},n.a.createElement(ne.a,{className:"mx-2"},n.a.createElement(ne.a.Image,{width:50,src:"/react-shop/images/products/"+r,fluid:!0})),c);return n.a.createElement("tr",null,n.a.createElement("td",null,a),n.a.createElement("td",null,o),n.a.createElement("td",null,n.a.createElement(M,{price:l})))},ke=function(){var e=Object(i.d)((function(e){return e.favorites})),t=Object(i.d)((function(e){return e.products.allProducts})),a=e.map((function(e){return n.a.createElement(we,{key:e,item:t.find((function(t){return t.id===e}))})}));return n.a.createElement(n.a.Fragment,null,n.a.createElement("h3",{className:"py-3"},"Your favorites"),n.a.createElement(ve.a,null,n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("th",null,"ID"),n.a.createElement("th",null,"Product"),n.a.createElement("th",null,"Price")),a)))},xe=a(179),_e=a(173),Se=function(){var e=Object(i.d)((function(e){return e.userAuth.currentUser}));return n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",null,"Hello, ",e.displayName||"guest"),n.a.createElement(xe.a,{defaultActiveKey:"order",id:""},n.a.createElement(_e.a,{eventKey:"order",title:"Orders"},n.a.createElement(ye,null)),n.a.createElement(_e.a,{eventKey:"favorites",title:"Favorites"},n.a.createElement(ke,null))))},Ne=function(){var e=Object(i.d)((function(e){return e.userAuth.currentUser}));return n.a.createElement(d.a,{className:"p-4"},n.a.createElement(C.d,null,n.a.createElement(C.b,{exact:!0,path:"/",component:re}),n.a.createElement(C.b,{path:"/about",component:R}),n.a.createElement(C.b,{path:"/product/:id",component:ce}),n.a.createElement(C.b,{path:"/cart",component:Oe}),n.a.createElement(U,{path:"/dashboard"},n.a.createElement(Se,null)),n.a.createElement(C.b,{path:"/login",component:ie},e&&n.a.createElement(C.a,{to:"/"})),n.a.createElement(C.b,{path:"/signup",component:me},e&&n.a.createElement(C.a,{to:"/"}))))},Te=function(){return n.a.createElement("footer",{className:"page-footer font-small",variant:"dark"},n.a.createElement("div",{className:"footer-copyright text-center py-3"},"\xa9 ",(new Date).getFullYear()," Copyright"))},Ce=a(110);a(142);var Re=function(){var e=Object(i.c)();return Object(r.useEffect)((function(){e({type:f})}),[]),n.a.createElement(n.a.Fragment,null,n.a.createElement(Ce.a,{position:"top-right",autoClose:2500,closeOnClick:!0}),n.a.createElement(T,null),n.a.createElement(Ne,null),n.a.createElement(Te,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ie=a(111),Ue=a(33),Pe=a(90),Ae=a(112),Le=a.n(Ae),Fe=a(113),De=a(9),Ge=a.n(De),Ke=a(15),qe=a(61);a(145),a(148);qe.a.initializeApp({apiKey:"AIzaSyBddcNgBCgi2Vn3KpXnNZ21XFNsG_RCqlk",authDomain:"react-shop-3a5cb.firebaseapp.com",projectId:"react-shop-3a5cb",storageBucket:"https://react-shop-3a5cb.firebaseio.com",messagingSenderId:"124673913746",appId:"1:124673913746:web:6cbbd5a5d7d093a9e5474b"});var Be=qe.a.firestore(),He=qe.a.auth(),Me=qe.a,Ve=Ge.a.mark(Xe),Ye=Ge.a.mark(Je),We=Ge.a.mark(ze);function Xe(){var e,t;return Ge.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Be.collection("products").get();case 3:return e=a.sent,t=e.docs.map((function(e){return e.data()})),a.next=7,Object(Ke.c)({type:te,payload:t});case 7:a.next=13;break;case 9:return a.prev=9,a.t0=a.catch(0),a.next=13,Object(Ke.c)((r=a.t0,{type:ae,payload:r}));case 13:case"end":return a.stop()}var r}),Ve,null,[[0,9]])}function Je(){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ke.d)(ee,Xe);case 2:case"end":return e.stop()}}),Ye)}function ze(){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ke.a)([Object(Ke.b)(Je)]);case 2:case"end":return e.stop()}}),We)}var Qe=a(14),Ze=a(39),$e=function(){return new Promise((function(e,t){var a=He.onAuthStateChanged((function(t){a(),e(t)}),t)}))},et=function(){var e=Object(Ze.a)(Ge.a.mark((function e(t,a){var r,n,c;return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return r=t.email,n=t.displayName,c=Me.firestore().collection("users").doc(t.uid),e.next=6,c.get();case 6:if(e.sent.exists){e.next=16;break}return e.prev=8,e.next=11,c.set(Object(Qe.a)({email:r,displayName:n,createdAt:new Date},a));case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(8),console.log("Error while creating user "+e.t0.message);case 16:return e.abrupt("return",c);case 17:case"end":return e.stop()}}),e,null,[[8,13]])})));return function(t,a){return e.apply(this,arguments)}}(),tt=Ge.a.mark(mt),at=Ge.a.mark(pt),rt=Ge.a.mark(dt),nt=Ge.a.mark(Et),ct=Ge.a.mark(ft),lt=Ge.a.mark(bt),ot=Ge.a.mark(ht),ut=Ge.a.mark(gt),st=Ge.a.mark(vt),it=Ge.a.mark(Ot);function mt(e,t){var a,r;return Ge.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Ke.b)(et,e,t);case 3:return a=n.sent,n.next=6,a.get();case 6:return r=n.sent,n.next=9,Object(Ke.c)((c=r.data(),{type:h,payload:c}));case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(0),n.next=15,Object(Ke.c)(k(n.t0.message));case 15:case"end":return n.stop()}var c}),tt,null,[[0,11]])}function pt(){var e;return Ge.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Ke.b)($e);case 3:if(e=t.sent){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,Object(Ke.b)(mt,e);case 8:t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(0),t.next=14,Object(Ke.c)(k(t.t0.message));case 14:case"end":return t.stop()}}),at,null,[[0,10]])}function dt(e){var t,a,r,n,c;return Ge.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.payload,a=t.email,r=t.password,l.prev=1,l.next=4,He.signInWithEmailAndPassword(a,r);case 4:return n=l.sent,c=n.user,l.next=8,Object(Ke.b)(mt,c);case 8:l.next=14;break;case 10:return l.prev=10,l.t0=l.catch(1),l.next=14,Object(Ke.c)(k(l.t0.message));case 14:case"end":return l.stop()}}),rt,null,[[1,10]])}function Et(){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,He.signOut();case 3:return e.next=5,Object(Ke.c)({type:y});case 5:e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),e.next=11,Object(Ke.c)((t=e.t0.message,{type:w,payload:t}));case 11:case"end":return e.stop()}var t}),nt,null,[[0,7]])}function ft(e){var t,a,r,n,c,l;return Ge.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,a=t.email,r=t.password,n=t.additionalData,o.prev=1,o.next=4,He.createUserWithEmailAndPassword(a,r);case 4:return c=o.sent,l=c.user,o.next=8,Object(Ke.b)(mt,l,n);case 8:o.next=14;break;case 10:return o.prev=10,o.t0=o.catch(1),o.next=14,Object(Ke.c)(k(o.t0.message));case 14:case"end":return o.stop()}}),ct,null,[[1,10]])}function bt(){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ke.d)(f,pt);case 2:case"end":return e.stop()}}),lt)}function ht(){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ke.d)(b,dt);case 2:case"end":return e.stop()}}),ot)}function gt(){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ke.d)(j,Et);case 2:case"end":return e.stop()}}),ut)}function vt(){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ke.d)(v,ft);case 2:case"end":return e.stop()}}),st)}function Ot(){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ke.a)([Object(Ke.b)(ht),Object(Ke.b)(bt),Object(Ke.b)(gt),Object(Ke.b)(vt)]);case 2:case"end":return e.stop()}}),it)}var jt=Ge.a.mark(yt);function yt(){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ke.a)([Object(Ke.b)(ze),Object(Ke.b)(Ot)]);case 2:case"end":return e.stop()}}),jt)}var wt={allProducts:[],isLoading:!1,error:null},kt={currentUser:null,error:null},xt=a(20),_t=function(e,t){var a=e.find((function(e){return e.id===t.id}));return a?e.map((function(e){return e.id===a.id?Object(Qe.a)(Object(Qe.a)({},e),{},{qty:e.qty+=1}):e})):[].concat(Object(xt.a)(e),[Object(Qe.a)(Object(Qe.a)({},t),{},{qty:1})])},St=function(e,t){return e.filter((function(e){return e.id!==t}))},Nt={cartItems:[]},Tt=function(e,t){return e.find((function(e){return e===t}))?e.filter((function(e){return e!==t})):[].concat(Object(xt.a)(e),[t])},Ct=[],Rt=[],It=Object(Ue.c)({products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee:return Object(Qe.a)(Object(Qe.a)({},e),{},{isLoading:!0});case te:return Object(Qe.a)(Object(Qe.a)({},e),{},{allProducts:t.payload,isLoading:!1});case ae:return Object(Qe.a)(Object(Qe.a)({},e),{},{isLoading:!1,error:t.payload});default:return e}},userAuth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:case v:return Object(Qe.a)(Object(Qe.a)({},e),{},{currentUser:null,error:null});case h:return Object(Qe.a)(Object(Qe.a)({},e),{},{currentUser:t.payload,error:null});case g:return Object(Qe.a)(Object(Qe.a)({},e),{},{currentUser:null,error:t.payload});case y:return Object(Qe.a)(Object(Qe.a)({},e),{},{currentUser:null,error:null});case O:return Object(Qe.a)(Object(Qe.a)({},e),{},{error:t.payload});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:return Object(Qe.a)(Object(Qe.a)({},e),{},{cartItems:_t(e.cartItems,t.payload)});case q:return Object(Qe.a)(Object(Qe.a)({},e),{},{cartItems:St(e.cartItems,t.payload)});case B:return Object(Qe.a)(Object(Qe.a)({},e),{},{cartItems:[]});default:return e}},favorites:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:return Tt(e,t.payload);default:return e}},orders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt,t=arguments.length>1?arguments[1]:void 0;return t.type,e}}),Ut={key:"root",storage:Le.a,whitelist:["cart","favorites"]},Pt=window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e},At=Object(Fe.a)(),Lt=Object(Pe.a)(Ut,It),Ft=Object(Ue.e)(Lt,Object(Ue.d)(Object(Ue.a)(At),Pt)),Dt=Object(Pe.b)(Ft);At.run(yt),l.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(i.a,{store:Ft},n.a.createElement(Ie.a,{loading:"loading...",persistor:Dt},n.a.createElement(E.a,{basename:"/react-shop"},n.a.createElement(Re,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[123,1,2]]]);
//# sourceMappingURL=main.9e75f978.chunk.js.map