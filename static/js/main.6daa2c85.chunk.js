(this["webpackJsonpreact-shop"]=this["webpackJsonpreact-shop"]||[]).push([[0],{149:function(e,t,a){e.exports=a(175)},155:function(e,t,a){},162:function(e,t,a){},175:function(e,t,a){"use strict";a.r(t);a(150);var r=a(0),n=a.n(r),c=a(20),l=a.n(c),o=(a(155),a(69)),u=a(98),i=a(115);o.b.add(u.c,u.a,i.a,u.b);var s=a(12),m=(a(162),a(135)),p=a(229),d=a(213),E=a(22),f="CHECK_USER_SESSION",b="LOGIN_USER_START",h="LOGIN_USER_SUCCESS",v="LOGIN_USER_FAILURE",g="SIGNUP_USER_START",O="SIGNUP_USER_FAILURE",j="SIGNOUT_USER_START",y="SIGNOUT_USER_SUCCESS",w="SIGNOUT_USER_FAILURE",x=function(e){return{type:v,payload:e}},k=a(209),S=a(120),N=a.n(S),_=function(){var e=Object(s.d)((function(e){return e.cart.cartItems})).reduce((function(e,t){return e+t.qty}),0);return n.a.createElement(k.a,{badgeContent:e,color:"secondary"},n.a.createElement(N.a,null))},C=function(){var e=Object(s.d)((function(e){return e.userAuth.currentUser})),t=Object(s.c)(),a=function(){t({type:j})},r=n.a.createElement(m.a.Link,{className:"nav-link",onClick:function(){return a()}},"Log Out"),c=n.a.createElement(E.c,{className:"nav-link",to:"/login"},"Login");return n.a.createElement(p.a,{bg:"dark",variant:"dark",expand:"md"},n.a.createElement(d.a,null,n.a.createElement(p.a.Brand,null,n.a.createElement(E.c,{className:"nav-link",to:"/"},"Home")),n.a.createElement(p.a.Toggle,{"aria-controls":"basic-navbar-nav"}),n.a.createElement(p.a.Collapse,null,n.a.createElement(m.a,null,n.a.createElement(E.c,{className:"nav-link",to:"/about"},"About")),n.a.createElement(m.a,{className:"mr-auto"},n.a.createElement(E.c,{className:"nav-link",to:"/dashboard"},"My profile")),n.a.createElement(m.a,{className:"justify-content-end"},n.a.createElement(E.c,{className:"nav-link cart-items mr-2",to:"/cart"},n.a.createElement(_,null)),e&&r,e?n.a.createElement(p.a.Text,null,"Signed in as: ",n.a.createElement(E.b,{to:"/dashboard"},e.displayName||e.email)):c))))},T=a(25),I=function(){return n.a.createElement("div",{className:"page about-page"},n.a.createElement("section",null,n.a.createElement("h2",null,"Overview"),n.a.createElement("p",null,"Simple store app built with React. The purpoupse of this project is to learn and master the React and Redux foundations."),n.a.createElement("p",null,n.a.createElement("del",null,"The app uses localStorage to store and read any user information. If any conflict is caused by already stored data you can clear localStorage or open the app in incognito mode")),n.a.createElement("p",null,"The authentication and products data is stored on firebase")),n.a.createElement("section",null,n.a.createElement("h2",null,"What you can do with this app"),n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement(E.b,{to:"/login"},"Create or login to your account")),n.a.createElement("li",null,"Add or remove products to your favorites list *"),n.a.createElement("li",null,"Add products to Cart"),n.a.createElement("li",null,"Remove products from cart"),n.a.createElement("li",null,"Empty cart"),n.a.createElement("li",null,n.a.createElement("del",null,"Complete order *")),n.a.createElement("li",null,"See your orders and favourited products in your"," ",n.a.createElement(E.b,{to:"/dashboard"},"dashboard")," *"),n.a.createElement("span",{className:"font-italic"},"* You need to be logged in"))),n.a.createElement("section",null,n.a.createElement("h2",null,"Project on Github"),n.a.createElement("a",{href:"https://github.com/al-nenov/react-shop",target:"_blank",rel:"noopener noreferrer"},"https://github.com/al-nenov/react-shop")),n.a.createElement("section",null,n.a.createElement("h2",null,"Live Demo"),n.a.createElement("a",{href:"https://al-nenov.github.io/react-shop/",target:"_blank",rel:"noopener noreferrer"},"https://al-nenov.github.io/react-shop/")),n.a.createElement("section",null,n.a.createElement("h2",null,"Packages"),n.a.createElement("ul",null,n.a.createElement("li",null,"React"),n.a.createElement("li",null,"Redux"),n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement("del",null,n.a.createElement("a",{href:"https://www.npmjs.com/package/redux-thunk",target:"_blank",rel:"noopener noreferrer"},"Thunk"))),n.a.createElement("li",null,n.a.createElement("a",{href:"https://redux-saga.js.org/",target:"_blank",rel:"noopener noreferrer"},"Redux-Saga")),n.a.createElement("li",null,n.a.createElement("a",{href:"https://www.npmjs.com/package/redux-persist",target:"_blank",rel:"noopener noreferrer"},"Persist"))),n.a.createElement("li",null,n.a.createElement("a",{href:"https://firebase.google.com/",target:"_blank",rel:"noopener noreferrer"},"Firebase")),n.a.createElement("li",null,n.a.createElement("a",{href:"https://www.npmjs.com/package/react-router-dom",target:"_blank",rel:"noopener noreferrer"},"Router")),n.a.createElement("li",null,n.a.createElement("a",{href:"https://www.npmjs.com/package/prop-types",target:"_blank",rel:"noopener noreferrer"},"Prop Types")),n.a.createElement("li",null,n.a.createElement("a",{href:"https://www.npmjs.com/package/react-hook-form",target:"_blank",rel:"noopener noreferrer"},"React Hook Form")),n.a.createElement("del",null,n.a.createElement("li",null,n.a.createElement("a",{href:"https://www.npmjs.com/package/react-js-pagination",target:"_blank",rel:"noopener noreferrer"},"React js pagination"))),n.a.createElement("li",null,n.a.createElement("a",{href:"https://www.npmjs.com/package/react-bootstrap",target:"_blank",rel:"noopener noreferrer"},"React Bootstrap")),n.a.createElement("li",null,n.a.createElement("a",{href:"https://material-ui.com/",target:"_blank",rel:"noopener noreferrer"},"Material-UI")),n.a.createElement("li",null,n.a.createElement("a",{href:"https://www.npmjs.com/package/@fortawesome/react-fontawesome",target:"_blank",rel:"noopener noreferrer"},"Font Awesome")),n.a.createElement("li",null,n.a.createElement("a",{href:"https://www.npmjs.com/package/react-toastify",target:"_blank",rel:"noopener noreferrer"},"React Toastify")))))},R=a(136),U=function(e){var t=e.children,a=Object(R.a)(e,["children"]),r=Object(s.d)((function(e){return e.userAuth.currentUser}));return n.a.createElement(T.b,Object.assign({},a,{render:function(e){var a=e.location;return r?t:n.a.createElement(T.a,{to:{pathname:"/login",state:{from:a}}})}}))},A=a(34),P=a(217),L=a(228),D=a(216),F=a(231),W=a(214),q="ADD_PRODUCT_TO_CART",G="REMOVE_ITEM_FROM_CART",K="EMPTY_CART",V=function(e){var t=e.product,a=Object(s.c)();return n.a.createElement("div",{className:"add-to-cart mx-auto my-2"},n.a.createElement(W.a,{variant:"contained",color:"primary",onClick:function(){a({type:q,payload:t})}},"Add to cart"))},B=function(e){var t=e.price,a=e.currency,r=void 0===a?"\u043b\u0432.":a;return t=t.toFixed(2),n.a.createElement("span",{className:"product-price"},t," ",n.a.createElement("span",{className:"product-price-currency"},r))},H=function(){var e=Object(r.useState)(!1),t=Object(A.a)(e,2),a=t[0],n=t[1],c=Object(r.useRef)(null),l=function(){n(!0)},o=function(){n(!1)};return Object(r.useEffect)((function(){var e=c.current;return e.addEventListener("mouseenter",l),e.addEventListener("mouseleave",o),function(){e.removeEventListener("mouseenter",l),e.removeEventListener("mouseleave",o)}}),[]),[a,c]},M="TOGLE_FAVORITE",Y=a(126),X=a.n(Y),J=a(127),z=a.n(J),Q=a(215),Z=function(e){var t=e.productId,a=Object(s.c)(),r=H(),c=Object(A.a)(r,2),l=c[0],o=c[1],u=Object(s.d)((function(e){return e.favorites})).some((function(e){return e===t})),i=function(e){a({type:M,payload:e})};return n.a.createElement("span",{ref:o,className:"favorites-icon"},n.a.createElement(Q.a,{onClick:function(){return i(t)},style:{color:"red"}},l||u?n.a.createElement(X.a,null):n.a.createElement(z.a,null)))},$=function(e){var t=e.id,a=e.image,r=e.color,c=e.price,l=e.title,o=Object(s.d)((function(e){return e.userAuth.currentUser}));return n.a.createElement(D.a,{md:4,sm:"auto",className:"product mb-5"},n.a.createElement(F.a,null,o?n.a.createElement(Z,{productId:t}):null,n.a.createElement(E.b,{to:"product/".concat(t)},n.a.createElement(F.a.Img,{variant:"top",src:"/react-shop/images/products/"+a}),n.a.createElement(F.a.Body,null,n.a.createElement(F.a.Title,null,l),n.a.createElement(F.a.Text,null,"Color: ",r),n.a.createElement(F.a.Text,null,"Price: ",n.a.createElement(B,{price:c})))),n.a.createElement(V,{product:e})))},ee="FETCH_PRODUCTS_START",te="FETCH_PRODUCTS_SUCCESS",ae="FETCH_PRODUCTS_ERROR",re=Object(s.b)((function(e){return{allProducts:e.products.allProducts,isLoading:e.products.isLoading}}),(function(e){return{fetchProducts:function(){return e({type:ee})}}}))((function(e){var t=e.allProducts,a=e.fetchProducts,c=e.isLoading,l=Object(r.useState)(1),o=Object(A.a)(l,2),u=o[0],i=o[1],s=Object(r.useState)({firstProduct:0,lastProduct:6}),m=Object(A.a)(s,2),p=m[0],d=m[1];Object(r.useEffect)((function(){a()}),[]);var E=t.slice(p.firstProduct,p.lastProduct).map((function(e){return n.a.createElement($,Object.assign({key:e.id},e))}));return n.a.createElement(n.a.Fragment,null,n.a.createElement(P.a,{className:"justify-content-center products"},c?"Loading...":E),n.a.createElement(L.a,{color:"primary",page:u,count:t.length/6,onChange:function(e,t){i(t);var a=6*t;d({firstProduct:a-6,lastProduct:a})}}))})),ne=a(230),ce=Object(s.b)((function(e){return{products:e.products.allProducts,cart:e.cart}}))((function(e){var t=e.products,a=e.match,r=parseInt(a.params.id),c=t.find((function(e){return e.id===r})),l=Object(s.d)((function(e){return e.userAuth.currentUser}));if(!c)return n.a.createElement(T.a,{to:"/not-found"});var o=c.image,u=c.title,i=c.description,m=c.price,p=c.color,d=c.id;return n.a.createElement(P.a,null,n.a.createElement(D.a,{md:6,sl:"auto"},n.a.createElement(ne.a,null,n.a.createElement(ne.a.Image,{src:"/react-shop/images/products/"+o,fluid:!0}))),n.a.createElement(D.a,{md:6,sl:"auto"},n.a.createElement(F.a,null,n.a.createElement(F.a.Body,null,n.a.createElement(F.a.Title,null,u),n.a.createElement(F.a.Text,null,i),n.a.createElement(F.a.Text,null,"Price: ",n.a.createElement(B,{price:m})),n.a.createElement(F.a.Text,null,"Color: ",p),n.a.createElement(V,{product:c})),l?n.a.createElement(Z,{productId:d}):null)))})),le=a(65),oe=a(14),ue=a(233),ie=a(220),se=a(227),me=a(223),pe=a(221),de=a(91),Ee=a.n(de),fe=a(177),be=a(219),he=a(218),ve=Object(he.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})),ge=a(222),Oe=function(){var e=ve(),t=Object(s.d)((function(e){return e.userAuth.error})),a=Object(r.useState)({email:"",password:""}),c=Object(A.a)(a,2),l=c[0],o=c[1],u=l.email,i=l.password,m=Object(s.c)(),p=function(e){return m({type:b,payload:e})},d=function(e){var t=e.target,a=t.name,r=t.value;o(Object(oe.a)(Object(oe.a)({},l),{},Object(le.a)({},a,r)))};return n.a.createElement(be.a,{component:"main",maxWidth:"xs"},n.a.createElement(ie.a,null),n.a.createElement("div",{className:e.paper},n.a.createElement(ue.a,{className:e.avatar},n.a.createElement(Ee.a,null)),n.a.createElement(fe.a,{component:"h1",variant:"h5"},"Log In"),n.a.createElement("form",{className:e.form,onSubmit:function(e){e.preventDefault(),p(l)},noValidate:!0},n.a.createElement(pe.a,{container:!0,spacing:2},n.a.createElement(pe.a,{item:!0,xs:12},n.a.createElement(se.a,{variant:"outlined",required:!0,fullWidth:!0,onChange:d,value:u,id:"email",label:"Email Address",name:"email",autoComplete:"email"})),n.a.createElement(pe.a,{item:!0,xs:12},n.a.createElement(se.a,{variant:"outlined",required:!0,fullWidth:!0,onChange:d,value:i,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}))),n.a.createElement(ge.a,{defaultValue:"Error",error:!0,id:"my-helper-text"},t),n.a.createElement(W.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Log In"),n.a.createElement(pe.a,{container:!0,justify:"flex-end"},n.a.createElement(pe.a,{item:!0},n.a.createElement(me.a,{href:"/signup",variant:"body2"},"Don't have an account? Signup here"))))))},je=Object(he.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})),ye=function(){var e=je(),t=Object(s.d)((function(e){return e.userAuth.error})),a=Object(r.useState)({displayName:"",email:"",password:""}),c=Object(A.a)(a,2),l=c[0],o=c[1],u=l.displayName,i=l.email,m=l.password,p=Object(s.c)(),d=function(e){return p(function(e){return{type:g,payload:e}}(e))},E=function(e){var t=e.target,a=t.name,r=t.value;o(Object(oe.a)(Object(oe.a)({},l),{},Object(le.a)({},a,r)))};return n.a.createElement(be.a,{component:"main",maxWidth:"xs"},n.a.createElement(ie.a,null),n.a.createElement("div",{className:e.paper},n.a.createElement(ue.a,{className:e.avatar},n.a.createElement(Ee.a,null)),n.a.createElement(fe.a,{component:"h1",variant:"h5"},"Sign up"),n.a.createElement("form",{className:e.form,onSubmit:function(e){e.preventDefault(),d(l)},noValidate:!0},n.a.createElement(pe.a,{container:!0,spacing:2},n.a.createElement(pe.a,{item:!0,xs:12},n.a.createElement(se.a,{variant:"outlined",fullWidth:!0,onChange:E,value:u,id:"displayName",label:"Name",name:"displayName",autoComplete:"dname"})),n.a.createElement(pe.a,{item:!0,xs:12},n.a.createElement(se.a,{variant:"outlined",required:!0,fullWidth:!0,onChange:E,value:i,id:"email",label:"Email Address",name:"email",autoComplete:"email"})),n.a.createElement(pe.a,{item:!0,xs:12},n.a.createElement(se.a,{variant:"outlined",required:!0,fullWidth:!0,onChange:E,value:m,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}))),n.a.createElement(ge.a,{defaultValue:"Error",error:!0,id:"my-helper-text"},t),n.a.createElement(W.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Sign Up"),n.a.createElement(pe.a,{container:!0,justify:"flex-end"},n.a.createElement(pe.a,{item:!0},n.a.createElement(me.a,{href:"/login",variant:"body2"},"Already have an account? Sign in"))))))},we=a(224),xe=a(128),ke=a.n(xe),Se=function(e){var t=e.price,a=100*t;return n.a.createElement(ke.a,{label:"Pay now",name:"React Shop",billingAddress:!0,shippingAddress:!0,description:"Your totals is ".concat(t," \u043b\u0432."),amount:a,panelLabel:"Pay Now",token:function(e){alert("Payment Successful")},stripeKey:"pk_test_51I3k3pKmRuDfUJAATsMAjdi2UbqsjSnCvwboDrKO3kQL2VJKIv5kKva83zV3k93QV3efCo9xr6HGt1HWKcwfaO5C00jcl6kjaR"})},Ne=function(e){var t=e.total,a=Object(s.d)((function(e){return e.userAuth.currentUser}));return n.a.createElement(F.a,{className:"p-4"},n.a.createElement("h5",null,"Cart Totals:"),n.a.createElement("p",null,"Total : ",n.a.createElement(B,{price:t})),!a&&n.a.createElement("div",null,n.a.createElement("p",{className:"text-warning"},"You need to be logged in to complete an order"),n.a.createElement(E.b,{to:"/login"},"Login here")),n.a.createElement(Se,{price:t}),n.a.createElement(we.a,{variant:"secondary",onClick:function(){},disabled:!a},"Complete order"))},_e=a(129),Ce=a(95),Te=function(e){var t=e.item,a=t.id,r=t.image,c=t.title,l=t.qty,o=t.price,u=Object(s.c)(),i=function(e){u({type:G,payload:e})},m=n.a.createElement(E.b,{to:"product/".concat(a)},n.a.createElement(ne.a,{className:"mx-2"},n.a.createElement(ne.a.Image,{width:50,src:"/react-shop/images/products/"+r,fluid:!0})),c);return n.a.createElement("tr",null,n.a.createElement("td",null,n.a.createElement(Ce.a,{onClick:function(){return i(a)}},n.a.createElement(_e.a,{icon:"times"}))),n.a.createElement("td",null,a),n.a.createElement("td",null,m),n.a.createElement("td",null,n.a.createElement(B,{price:o})),n.a.createElement("td",null,l),n.a.createElement("td",null,n.a.createElement(B,{price:o*l})))},Ie=a(225),Re=function(){var e=Object(r.useState)(0),t=Object(A.a)(e,2),a=t[0],c=t[1],l=Object(s.c)(),o=Object(s.d)((function(e){return e.cart.cartItems}));if(Object(r.useEffect)((function(){var e=0;o.forEach((function(t){e+=t.price*t.qty})),c(e)}),[o]),!o.length)return n.a.createElement(T.a,{to:"/"});var u=o.map((function(e){return n.a.createElement(Te,{key:e.id,item:e})}));return n.a.createElement(n.a.Fragment,null,n.a.createElement("h3",{className:"py-3"},"Checkout"),n.a.createElement(Ie.a,null,n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null),n.a.createElement("th",null,"id"),n.a.createElement("th",null,"Product"),n.a.createElement("th",null,"Price"),n.a.createElement("th",null,"Qty"),n.a.createElement("th",null,"Total"))),n.a.createElement("tbody",null,u)),n.a.createElement(P.a,null,n.a.createElement(D.a,null,n.a.createElement(we.a,{variant:"outline-secondary",onClick:function(){l({type:K})}},"Empty cart")),n.a.createElement(D.a,null,n.a.createElement(Ne,{total:a,items:o}))))},Ue=function(e){var t=e.item,a=t.id,r=t.image,c=t.title,l=t.price,o=t.qty,u=n.a.createElement(E.b,{to:"product/".concat(a)},n.a.createElement(ne.a,{className:"mx-2"},n.a.createElement(ne.a.Image,{width:50,src:"/react-shop/images/products/"+r,fluid:!0})),c);return n.a.createElement("tr",null,n.a.createElement("td",null,a),n.a.createElement("td",null,u),n.a.createElement("td",null,n.a.createElement(B,{price:l})),n.a.createElement("td",null,o),n.a.createElement("td",null,n.a.createElement(B,{price:l*o})))},Ae=function(){var e=Object(s.d)((function(e){return e.orders})).map((function(e){return n.a.createElement(Ue,{key:e.id,order:e})}));return n.a.createElement(n.a.Fragment,null,n.a.createElement("h3",{className:"py-3"},"Your orders"),e)},Pe=function(e){var t=e.item,a=t.id,r=t.image,c=t.title,l=t.price,o=n.a.createElement(E.b,{to:"product/".concat(a)},n.a.createElement(ne.a,{className:"mx-2"},n.a.createElement(ne.a.Image,{width:50,src:"/react-shop/images/products/"+r,fluid:!0})),c);return n.a.createElement("tr",null,n.a.createElement("td",null,a),n.a.createElement("td",null,o),n.a.createElement("td",null,n.a.createElement(B,{price:l})))},Le=function(){var e=Object(s.d)((function(e){return e.favorites})),t=Object(s.d)((function(e){return e.products.allProducts})),a=e.map((function(e){return n.a.createElement(Pe,{key:e,item:t.find((function(t){return t.id===e}))})}));return n.a.createElement(n.a.Fragment,null,n.a.createElement("h3",{className:"py-3"},"Your favorites"),n.a.createElement(Ie.a,null,n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("th",null,"ID"),n.a.createElement("th",null,"Product"),n.a.createElement("th",null,"Price")),a)))},De=a(232),Fe=a(226),We=function(){var e=Object(s.d)((function(e){return e.userAuth.currentUser}));return n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",null,"Hello, ",e.displayName||"guest"),n.a.createElement(De.a,{defaultActiveKey:"order",id:""},n.a.createElement(Fe.a,{eventKey:"order",title:"Orders"},n.a.createElement(Ae,null)),n.a.createElement(Fe.a,{eventKey:"favorites",title:"Favorites"},n.a.createElement(Le,null))))},qe=function(){var e=Object(s.d)((function(e){return e.userAuth.currentUser}));return n.a.createElement(d.a,{className:"p-4"},n.a.createElement(T.d,null,n.a.createElement(T.b,{exact:!0,path:"/",component:re}),n.a.createElement(T.b,{path:"/about",component:I}),n.a.createElement(T.b,{path:"/product/:id",component:ce}),n.a.createElement(T.b,{path:"/cart",component:Re}),n.a.createElement(U,{path:"/dashboard"},n.a.createElement(We,null)),n.a.createElement(T.b,{path:"/login",component:Oe},e&&n.a.createElement(T.a,{to:"/"})),n.a.createElement(T.b,{path:"/signup",component:ye},e&&n.a.createElement(T.a,{to:"/"}))))},Ge=function(){return n.a.createElement("footer",{className:"page-footer font-small",variant:"dark"},n.a.createElement("div",{className:"footer-copyright text-center py-3"},"\xa9 ",(new Date).getFullYear()," Copyright"))},Ke=a(130);a(169);var Ve=function(){var e=Object(s.c)();return Object(r.useEffect)((function(){e({type:f})}),[]),n.a.createElement(n.a.Fragment,null,n.a.createElement(Ke.a,{position:"top-right",autoClose:2500,closeOnClick:!0}),n.a.createElement(C,null),n.a.createElement(qe,null),n.a.createElement(Ge,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Be=a(131),He=a(35),Me=a(105),Ye=a(132),Xe=a.n(Ye),Je=a(134),ze=a(17),Qe=a.n(ze),Ze=a(18),$e=a(74);a(173),a(176);$e.a.initializeApp({apiKey:"AIzaSyBddcNgBCgi2Vn3KpXnNZ21XFNsG_RCqlk",authDomain:"react-shop-3a5cb.firebaseapp.com",projectId:"react-shop-3a5cb",storageBucket:"https://react-shop-3a5cb.firebaseio.com",messagingSenderId:"124673913746",appId:"1:124673913746:web:6cbbd5a5d7d093a9e5474b"});var et=$e.a.firestore(),tt=$e.a.auth(),at=$e.a,rt=Qe.a.mark(lt),nt=Qe.a.mark(ot),ct=Qe.a.mark(ut);function lt(){var e,t;return Qe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,et.collection("products").get();case 3:return e=a.sent,t=e.docs.map((function(e){return e.data()})),a.next=7,Object(Ze.c)({type:te,payload:t});case 7:a.next=13;break;case 9:return a.prev=9,a.t0=a.catch(0),a.next=13,Object(Ze.c)((r=a.t0,{type:ae,payload:r}));case 13:case"end":return a.stop()}var r}),rt,null,[[0,9]])}function ot(){return Qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ze.d)(ee,lt);case 2:case"end":return e.stop()}}),nt)}function ut(){return Qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ze.a)([Object(Ze.b)(ot)]);case 2:case"end":return e.stop()}}),ct)}var it=a(133),st=function(){return new Promise((function(e,t){var a=tt.onAuthStateChanged((function(t){a(),e(t)}),t)}))},mt=function(){var e=Object(it.a)(Qe.a.mark((function e(t,a){var r,n,c;return Qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return r=t.email,n=t.displayName,c=at.firestore().collection("users").doc(t.uid),e.next=6,c.get();case 6:if(e.sent.exists){e.next=16;break}return e.prev=8,e.next=11,c.set(Object(oe.a)({email:r,displayName:n,createdAt:new Date},a));case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(8),console.log("Error while creating user "+e.t0.message);case 16:return e.abrupt("return",c);case 17:case"end":return e.stop()}}),e,null,[[8,13]])})));return function(t,a){return e.apply(this,arguments)}}(),pt=Qe.a.mark(yt),dt=Qe.a.mark(wt),Et=Qe.a.mark(xt),ft=Qe.a.mark(kt),bt=Qe.a.mark(St),ht=Qe.a.mark(Nt),vt=Qe.a.mark(_t),gt=Qe.a.mark(Ct),Ot=Qe.a.mark(Tt),jt=Qe.a.mark(It);function yt(e,t){var a,r;return Qe.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Ze.b)(mt,e,t);case 3:return a=n.sent,n.next=6,a.get();case 6:return r=n.sent,n.next=9,Object(Ze.c)((c=r.data(),{type:h,payload:c}));case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(0),n.next=15,Object(Ze.c)(x(n.t0.message));case 15:case"end":return n.stop()}var c}),pt,null,[[0,11]])}function wt(){var e;return Qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Ze.b)(st);case 3:if(e=t.sent){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,Object(Ze.b)(yt,e);case 8:t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(0),t.next=14,Object(Ze.c)(x(t.t0.message));case 14:case"end":return t.stop()}}),dt,null,[[0,10]])}function xt(e){var t,a,r,n,c;return Qe.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.payload,a=t.email,r=t.password,l.prev=1,l.next=4,tt.signInWithEmailAndPassword(a,r);case 4:return n=l.sent,c=n.user,l.next=8,Object(Ze.b)(yt,c);case 8:l.next=14;break;case 10:return l.prev=10,l.t0=l.catch(1),l.next=14,Object(Ze.c)(x(l.t0.message));case 14:case"end":return l.stop()}}),Et,null,[[1,10]])}function kt(){return Qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tt.signOut();case 3:return e.next=5,Object(Ze.c)({type:y});case 5:e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),e.next=11,Object(Ze.c)((t=e.t0.message,{type:w,payload:t}));case 11:case"end":return e.stop()}var t}),ft,null,[[0,7]])}function St(e){var t,a,r,n,c,l;return Qe.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,a=t.email,r=t.password,n=t.additionalData,o.prev=1,o.next=4,tt.createUserWithEmailAndPassword(a,r);case 4:return c=o.sent,l=c.user,o.next=8,Object(Ze.b)(yt,l,n);case 8:o.next=14;break;case 10:return o.prev=10,o.t0=o.catch(1),o.next=14,Object(Ze.c)(x(o.t0.message));case 14:case"end":return o.stop()}}),bt,null,[[1,10]])}function Nt(){return Qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ze.d)(f,wt);case 2:case"end":return e.stop()}}),ht)}function _t(){return Qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ze.d)(b,xt);case 2:case"end":return e.stop()}}),vt)}function Ct(){return Qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ze.d)(j,kt);case 2:case"end":return e.stop()}}),gt)}function Tt(){return Qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ze.d)(g,St);case 2:case"end":return e.stop()}}),Ot)}function It(){return Qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ze.a)([Object(Ze.b)(_t),Object(Ze.b)(Nt),Object(Ze.b)(Ct),Object(Ze.b)(Tt)]);case 2:case"end":return e.stop()}}),jt)}var Rt=Qe.a.mark(Ut);function Ut(){return Qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ze.a)([Object(Ze.b)(ut),Object(Ze.b)(It)]);case 2:case"end":return e.stop()}}),Rt)}var At={allProducts:[],isLoading:!1,error:null},Pt={currentUser:null,error:null},Lt=a(94),Dt=function(e,t){var a=e.find((function(e){return e.id===t.id}));return a?e.map((function(e){return e.id===a.id?Object(oe.a)(Object(oe.a)({},e),{},{qty:e.qty+=1}):e})):[].concat(Object(Lt.a)(e),[Object(oe.a)(Object(oe.a)({},t),{},{qty:1})])},Ft=function(e,t){return e.filter((function(e){return e.id!==t}))},Wt={cartItems:[]},qt=function(e,t){return e.find((function(e){return e===t}))?e.filter((function(e){return e!==t})):[].concat(Object(Lt.a)(e),[t])},Gt=[],Kt=[],Vt=Object(He.c)({products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee:return Object(oe.a)(Object(oe.a)({},e),{},{isLoading:!0});case te:return Object(oe.a)(Object(oe.a)({},e),{},{allProducts:t.payload,isLoading:!1});case ae:return Object(oe.a)(Object(oe.a)({},e),{},{isLoading:!1,error:t.payload});default:return e}},userAuth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:case g:return Object(oe.a)(Object(oe.a)({},e),{},{currentUser:null,error:null});case h:return Object(oe.a)(Object(oe.a)({},e),{},{currentUser:t.payload,error:null});case v:return Object(oe.a)(Object(oe.a)({},e),{},{currentUser:null,error:t.payload});case y:return Object(oe.a)(Object(oe.a)({},e),{},{currentUser:null,error:null});case O:return Object(oe.a)(Object(oe.a)({},e),{},{error:t.payload});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return Object(oe.a)(Object(oe.a)({},e),{},{cartItems:Dt(e.cartItems,t.payload)});case G:return Object(oe.a)(Object(oe.a)({},e),{},{cartItems:Ft(e.cartItems,t.payload)});case K:return Object(oe.a)(Object(oe.a)({},e),{},{cartItems:[]});default:return e}},favorites:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return qt(e,t.payload);default:return e}},orders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kt,t=arguments.length>1?arguments[1]:void 0;return t.type,e}}),Bt={key:"root",storage:Xe.a,whitelist:["cart","favorites"]},Ht=window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e},Mt=Object(Je.a)(),Yt=Object(Me.a)(Bt,Vt),Xt=Object(He.e)(Yt,Object(He.d)(Object(He.a)(Mt),Ht)),Jt=Object(Me.b)(Xt);Mt.run(Ut),l.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(s.a,{store:Xt},n.a.createElement(Be.a,{loading:"loading...",persistor:Jt},n.a.createElement(E.a,{basename:"/react-shop"},n.a.createElement(Ve,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[149,1,2]]]);
//# sourceMappingURL=main.6daa2c85.chunk.js.map