(this["webpackJsonpreact-shop"]=this["webpackJsonpreact-shop"]||[]).push([[0],{123:function(e,t,a){e.exports=a(147)},129:function(e,t,a){},136:function(e,t,a){},147:function(e,t,a){"use strict";a.r(t);a(124);var n=a(0),r=a.n(n),c=a(32),l=a.n(c),o=(a(129),a(56)),u=a(81),s=a(97);o.b.add(u.c,u.a,s.a,u.b);var i=a(11),m=(a(136),a(114)),p=a(176),d=a(167),E=a(16),f="CHECK_USER_SESSION",b="LOGIN_USER_START",h="LOGIN_USER_SUCCESS",v="LOGIN_USER_FAILURE",g="SIGNUP_USER_START",O="SIGNUP_USER_FAILURE",j="SIGNOUT_USER_START",y="SIGNOUT_USER_SUCCESS",w="SIGNOUT_USER_FAILURE",k=function(e){return{type:v,payload:e}},x=a(165),_=a(99),S=a.n(_),N=function(){var e=Object(i.d)((function(e){return e.cart.cartItems})).reduce((function(e,t){return e+t.qty}),0);return r.a.createElement(x.a,{badgeContent:e,color:"secondary"},r.a.createElement(S.a,null))},C=function(){var e=Object(i.d)((function(e){return e.userAuth.currentUser})),t=Object(i.c)(),a=function(){t({type:j})},n=r.a.createElement(m.a.Link,{className:"nav-link",onClick:function(){return a()}},"Log Out"),c=r.a.createElement(E.c,{className:"nav-link",to:"/login"},"Login");return r.a.createElement(p.a,{bg:"dark",variant:"dark",expand:"md"},r.a.createElement(d.a,null,r.a.createElement(p.a.Brand,null,r.a.createElement(E.c,{className:"nav-link",to:"/"},"Home")),r.a.createElement(p.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(p.a.Collapse,null,r.a.createElement(m.a,null,r.a.createElement(E.c,{className:"nav-link",to:"/about"},"About")),r.a.createElement(m.a,{className:"mr-auto"},r.a.createElement(E.c,{className:"nav-link",to:"/dashboard"},"My profile")),r.a.createElement(m.a,{className:"justify-content-end"},r.a.createElement(E.c,{className:"nav-link cart-items mr-2",to:"/cart"},r.a.createElement(N,null)),e&&n,e?r.a.createElement(p.a.Text,null,"Signed in as: ",r.a.createElement(E.b,{to:"/dashboard"},e.displayName)):c))))},T=a(21),R=function(){return r.a.createElement("div",{className:"page about-page"},r.a.createElement("section",null,r.a.createElement("h2",null,"Overview"),r.a.createElement("p",null,"Simple store app built with React. The purpoupse of this project is to learn and master the React and Redux foundations."),r.a.createElement("p",null,"The app uses localStorage to store and read any user information. If any conflict is caused by already stored data you can clear localStorage or open the app in incognito mode")),r.a.createElement("section",null,r.a.createElement("h2",null,"What you can do with this app"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(E.b,{to:"/login"},"Create or login to your account")),r.a.createElement("li",null,"Add or remove products to your favorites list *"),r.a.createElement("li",null,"Add products to Cart"),r.a.createElement("li",null,"Remove products from cart"),r.a.createElement("li",null,"Empty cart"),r.a.createElement("li",null,"Complete order *"),r.a.createElement("li",null,"See your orders and favourited products in your"," ",r.a.createElement(E.b,{to:"/dashboard"},"dashboard")," *"),r.a.createElement("span",{className:"font-italic"},"* You need to be logged in"))),r.a.createElement("section",null,r.a.createElement("h2",null,"Project on Github"),r.a.createElement("a",{href:"https://github.com/al-nenov/react-shop",target:"_blank",rel:"noopener noreferrer"},"https://github.com/al-nenov/react-shop")),r.a.createElement("section",null,r.a.createElement("h2",null,"Live Demo"),r.a.createElement("a",{href:"https://al-nenov.github.io/react-shop/",target:"_blank",rel:"noopener noreferrer"},"https://al-nenov.github.io/react-shop/")),r.a.createElement("section",null,r.a.createElement("h2",null,"Packages"),r.a.createElement("ul",null,r.a.createElement("li",null,"React"),r.a.createElement("li",null,"Redux"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"https://www.npmjs.com/package/redux-thunk",target:"_blank",rel:"noopener noreferrer"},"Thunk")),r.a.createElement("li",null,r.a.createElement("a",{href:"https://www.npmjs.com/package/redux-persist",target:"_blank",rel:"noopener noreferrer"},"Persist"))),r.a.createElement("li",null,r.a.createElement("a",{href:"https://www.npmjs.com/package/react-router-dom",target:"_blank",rel:"noopener noreferrer"},"Router")),r.a.createElement("li",null,r.a.createElement("a",{href:"https://www.npmjs.com/package/prop-types",target:"_blank",rel:"noopener noreferrer"},"Prop Types")),r.a.createElement("li",null,r.a.createElement("a",{href:"https://www.npmjs.com/package/react-hook-form",target:"_blank",rel:"noopener noreferrer"},"React Hook Form")),r.a.createElement("li",null,r.a.createElement("a",{href:"https://www.npmjs.com/package/react-js-pagination",target:"_blank",rel:"noopener noreferrer"},"React js pagination")),r.a.createElement("li",null,r.a.createElement("a",{href:"https://www.npmjs.com/package/react-bootstrap",target:"_blank",rel:"noopener noreferrer"},"React Bootstrap")),r.a.createElement("li",null,r.a.createElement("a",{href:"https://www.npmjs.com/package/@fortawesome/react-fontawesome",target:"_blank",rel:"noopener noreferrer"},"Font Awesome")),r.a.createElement("li",null,r.a.createElement("a",{href:"https://www.npmjs.com/package/react-toastify",target:"_blank",rel:"noopener noreferrer"},"React Toastify")))))},I=a(115),U=function(e){var t=e.children,a=Object(I.a)(e,["children"]),n=Object(i.d)((function(e){return e.userAuth.currentUser}));return r.a.createElement(T.b,Object.assign({},a,{render:function(e){var a=e.location;return n?t:r.a.createElement(T.a,{to:{pathname:"/login",state:{from:a}}})}}))},A=a(25),P=a(170),L=a(175),F=a(107),D=a(178),G=a(168),K="ADD_PRODUCT_TO_CART",q="REMOVE_ITEM_FROM_CART",B="EMPTY_CART",H=function(e){var t=e.product,a=Object(i.c)();return r.a.createElement("div",{className:"add-to-cart mx-auto my-2"},r.a.createElement(G.a,{variant:"contained",color:"primary",onClick:function(){a({type:K,payload:t})}},"Add to cart"))},V=function(e){var t=e.price,a=e.currency,n=void 0===a?"\u043b\u0432.":a;return t=t.toFixed(2),r.a.createElement("span",{className:"product-price"},t," ",r.a.createElement("span",{className:"product-price-currency"},n))},Y=function(){var e=Object(n.useState)(!1),t=Object(A.a)(e,2),a=t[0],r=t[1],c=Object(n.useRef)(null),l=function(){r(!0)},o=function(){r(!1)};return Object(n.useEffect)((function(){var e=c.current;return e.addEventListener("mouseenter",l),e.addEventListener("mouseleave",o),function(){e.removeEventListener("mouseenter",l),e.removeEventListener("mouseleave",o)}}),[]),[a,c]},M="TOGLE_FAVORITE",W=a(105),X=a.n(W),J=a(106),z=a.n(J),Q=a(169),Z=function(e){var t=e.productId,a=Object(i.c)(),n=Y(),c=Object(A.a)(n,2),l=c[0],o=c[1],u=Object(i.d)((function(e){return e.favorites})).some((function(e){return e===t})),s=function(e){a({type:M,payload:e})};return r.a.createElement("span",{ref:o,className:"favorites-icon"},r.a.createElement(Q.a,{onClick:function(){return s(t)},style:{color:"red"}},l||u?r.a.createElement(X.a,null):r.a.createElement(z.a,null)))},$=function(e){var t=e.id,a=e.image,n=e.color,c=e.price,l=e.title,o=Object(i.d)((function(e){return e.userAuth.currentUser}));return r.a.createElement(F.a,{md:4,sm:"auto",className:"product mb-5"},r.a.createElement(D.a,null,o?r.a.createElement(Z,{productId:t}):null,r.a.createElement(E.b,{to:"product/".concat(t)},r.a.createElement(D.a.Img,{variant:"top",src:"/react-shop/images/products/"+a}),r.a.createElement(D.a.Body,null,r.a.createElement(D.a.Title,null,l),r.a.createElement(D.a.Text,null,"Color: ",n),r.a.createElement(D.a.Text,null,"Price: ",r.a.createElement(V,{price:c})))),r.a.createElement(H,{product:e})))},ee="FETCH_PRODUCTS_START",te="FETCH_PRODUCTS_SUCCESS",ae="FETCH_PRODUCTS_ERROR",ne=Object(i.b)((function(e){return{allProducts:e.products.allProducts,isLoading:e.products.isLoading}}),(function(e){return{fetchProducts:function(){return e({type:ee})}}}))((function(e){var t=e.allProducts,a=e.fetchProducts,c=(e.isLoading,Object(n.useState)(1)),l=Object(A.a)(c,2),o=l[0],u=l[1],s=Object(n.useState)(d(0,6)),i=Object(A.a)(s,2),m=i[0],p=i[1];function d(e,a){return t.slice(e,a)}Object(n.useEffect)((function(){a()}),[]);var E=m.map((function(e){return r.a.createElement($,Object.assign({key:e.id},e))}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{className:"justify-content-center products"},E),r.a.createElement(L.a,{color:"primary",page:o,count:t.length/6,onChange:function(e,t){u(t);var a=6*t;p(d(a-6,a))}}))})),re=a(177),ce=Object(i.b)((function(e){return{products:e.products.allProducts,cart:e.cart}}))((function(e){var t=e.products,a=e.match,n=parseInt(a.params.id),c=t.find((function(e){return e.id===n})),l=Object(i.d)((function(e){return e.userAuth.currentUser}));if(!c)return r.a.createElement(T.a,{to:"/not-found"});var o=c.image,u=c.title,s=c.description,m=c.price,p=c.color,d=c.id;return r.a.createElement(P.a,null,r.a.createElement(F.a,{md:6,sl:"auto"},r.a.createElement(re.a,null,r.a.createElement(re.a.Image,{src:"/react-shop/images/products/"+o,fluid:!0}))),r.a.createElement(F.a,{md:6,sl:"auto"},r.a.createElement(D.a,null,r.a.createElement(D.a.Body,null,r.a.createElement(D.a.Title,null,u),r.a.createElement(D.a.Text,null,s),r.a.createElement(D.a.Text,null,"Price: ",r.a.createElement(V,{price:m})),r.a.createElement(D.a.Text,null,"Color: ",p),r.a.createElement(H,{product:c})),l?r.a.createElement(Z,{productId:d}):null)))})),le=a(174),oe=a(171),ue=a(116),se=function(e){var t=e.action,a=Object(ue.a)({mode:"onBlur"}),n=a.register,c=a.handleSubmit,l=a.errors,o=a.setError,u=a.reset;return r.a.createElement(le.a,{onSubmit:c((function(e,a){t(e,o,u)}))},r.a.createElement(le.a.Group,null,r.a.createElement(le.a.Label,null,"E-mail"),r.a.createElement(le.a.Control,{id:"email",ref:n({required:"Cannot be empty",maxLength:20}),type:"email",name:"email",placeholder:"Email"}),r.a.createElement("p",{className:"text-danger"},l.email&&l.email.message)),r.a.createElement(le.a.Group,null,r.a.createElement(le.a.Label,null,"Password"),r.a.createElement(le.a.Control,{type:"password",name:"password",placeholder:"Password",ref:n({required:"Password can not be empty",validate:{passwordLength:function(e){return e.length>=6}}})}),r.a.createElement("p",{className:"text-danger"},l.password&&l.password.message,l.password&&"passwordLength"===l.password.type&&r.a.createElement("p",null,"Your password must be atleast 6 symbols"),l.login&&l.login.message)),r.a.createElement(oe.a,{variant:"primary",type:"submit"},"Submit"))},ie=function(){var e=Object(i.c)();return r.a.createElement(D.a,{className:"p-5"},r.a.createElement("h3",null,"Log In to your account"),r.a.createElement(se,{action:function(t){return e(function(e){return{type:b,payload:e}}(t))}}),r.a.createElement(E.b,{to:"/signup",className:"pt-3"},"Don't have an account? Signup here"))},me=function(){var e=Object(i.c)();return r.a.createElement(D.a,{className:"p-5"},r.a.createElement("h3",null,"Create new account"),r.a.createElement(se,{action:function(t,a,n){e({type:g,payload:t})}}),r.a.createElement(E.b,{to:"/login",className:"pt-3"},"Already have an account? Login here"))},pe=a(108),de=a.n(pe),Ee=function(e){var t=e.price,a=100*t;return r.a.createElement(de.a,{label:"Pay now",name:"React Shop",billingAddress:!0,shippingAddress:!0,description:"Your totals is ".concat(t," \u043b\u0432."),amount:a,panelLabel:"Pay Now",token:function(e){alert("Payment Successful")},stripeKey:"pk_test_51I3k3pKmRuDfUJAATsMAjdi2UbqsjSnCvwboDrKO3kQL2VJKIv5kKva83zV3k93QV3efCo9xr6HGt1HWKcwfaO5C00jcl6kjaR"})},fe=function(e){var t=e.total,a=Object(i.d)((function(e){return e.userAuth.currentUser}));return r.a.createElement(D.a,{className:"p-4"},r.a.createElement("h5",null,"Cart Totals:"),r.a.createElement("p",null,"Total : ",r.a.createElement(V,{price:t})),!a&&r.a.createElement("div",null,r.a.createElement("p",{className:"text-warning"},"You need to be logged in to complete an order"),r.a.createElement(E.b,{to:"/login"},"Login here")),r.a.createElement(Ee,{price:t}),r.a.createElement(oe.a,{variant:"secondary",onClick:function(){},disabled:!a},"Complete order"))},be=a(109),he=a(78),ve=function(e){var t=e.item,a=t.id,n=t.image,c=t.title,l=t.qty,o=t.price,u=Object(i.c)(),s=function(e){u({type:q,payload:e})},m=r.a.createElement(E.b,{to:"product/".concat(a)},r.a.createElement(re.a,{className:"mx-2"},r.a.createElement(re.a.Image,{width:50,src:"/react-shop/images/products/"+n,fluid:!0})),c);return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement(he.a,{onClick:function(){return s(a)}},r.a.createElement(be.a,{icon:"times"}))),r.a.createElement("td",null,a),r.a.createElement("td",null,m),r.a.createElement("td",null,r.a.createElement(V,{price:o})),r.a.createElement("td",null,l),r.a.createElement("td",null,r.a.createElement(V,{price:o*l})))},ge=a(172),Oe=function(){var e=Object(n.useState)(0),t=Object(A.a)(e,2),a=t[0],c=t[1],l=Object(i.c)(),o=Object(i.d)((function(e){return e.cart.cartItems}));if(Object(n.useEffect)((function(){var e=0;o.forEach((function(t){e+=t.price*t.qty})),c(e)}),[o]),!o.length)return r.a.createElement(T.a,{to:"/"});var u=o.map((function(e){return r.a.createElement(ve,{key:e.id,item:e})}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"py-3"},"Checkout"),r.a.createElement(ge.a,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null),r.a.createElement("th",null,"id"),r.a.createElement("th",null,"Product"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null,"Qty"),r.a.createElement("th",null,"Total"))),r.a.createElement("tbody",null,u)),r.a.createElement(P.a,null,r.a.createElement(F.a,null,r.a.createElement(oe.a,{variant:"outline-secondary",onClick:function(){l({type:B})}},"Empty cart")),r.a.createElement(F.a,null,r.a.createElement(fe,{total:a,items:o}))))},je=function(e){var t=e.item,a=t.id,n=t.image,c=t.title,l=t.price,o=t.qty,u=r.a.createElement(E.b,{to:"product/".concat(a)},r.a.createElement(re.a,{className:"mx-2"},r.a.createElement(re.a.Image,{width:50,src:"/react-shop/images/products/"+n,fluid:!0})),c);return r.a.createElement("tr",null,r.a.createElement("td",null,a),r.a.createElement("td",null,u),r.a.createElement("td",null,r.a.createElement(V,{price:l})),r.a.createElement("td",null,o),r.a.createElement("td",null,r.a.createElement(V,{price:l*o})))},ye=function(){var e=Object(i.d)((function(e){return e.orders})).map((function(e){return r.a.createElement(je,{key:e.id,order:e})}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"py-3"},"Your orders"),e)},we=function(e){var t=e.item,a=t.id,n=t.image,c=t.title,l=t.price,o=r.a.createElement(E.b,{to:"product/".concat(a)},r.a.createElement(re.a,{className:"mx-2"},r.a.createElement(re.a.Image,{width:50,src:"/react-shop/images/products/"+n,fluid:!0})),c);return r.a.createElement("tr",null,r.a.createElement("td",null,a),r.a.createElement("td",null,o),r.a.createElement("td",null,r.a.createElement(V,{price:l})))},ke=function(){var e=Object(i.d)((function(e){return e.favorites})),t=Object(i.d)((function(e){return e.products.allProducts})),a=e.map((function(e){return r.a.createElement(we,{key:e,item:t.find((function(t){return t.id===e}))})}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"py-3"},"Your favorites"),r.a.createElement(ge.a,null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"Product"),r.a.createElement("th",null,"Price")),a)))},xe=a(179),_e=a(173),Se=function(){var e=Object(i.d)((function(e){return e.userAuth.currentUser}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Hello, ",e.displayName||"guest"),r.a.createElement(xe.a,{defaultActiveKey:"order",id:""},r.a.createElement(_e.a,{eventKey:"order",title:"Orders"},r.a.createElement(ye,null)),r.a.createElement(_e.a,{eventKey:"favorites",title:"Favorites"},r.a.createElement(ke,null))))},Ne=function(){var e=Object(i.d)((function(e){return e.userAuth.currentUser}));return r.a.createElement(d.a,{className:"p-4"},r.a.createElement("h3",null,"Version 2.0"),r.a.createElement(T.d,null,r.a.createElement(T.b,{exact:!0,path:"/",component:ne}),r.a.createElement(T.b,{path:"/about",component:R}),r.a.createElement(T.b,{path:"/product/:id",component:ce}),r.a.createElement(T.b,{path:"/cart",component:Oe}),r.a.createElement(U,{path:"/dashboard"},r.a.createElement(Se,null)),r.a.createElement(T.b,{path:"/login",component:ie},e&&r.a.createElement(T.a,{to:"/"})),r.a.createElement(T.b,{path:"/signup",component:me},e&&r.a.createElement(T.a,{to:"/"}))))},Ce=function(){return r.a.createElement("footer",{className:"page-footer font-small",variant:"dark"},r.a.createElement("div",{className:"footer-copyright text-center py-3"},"\xa9 ",(new Date).getFullYear()," Copyright"))},Te=a(110);a(142);var Re=function(){var e=Object(i.c)();return Object(n.useEffect)((function(){e({type:f})}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Te.a,{position:"top-right",autoClose:2500,closeOnClick:!0}),r.a.createElement(C,null),r.a.createElement(Ne,null),r.a.createElement(Ce,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ie=a(111),Ue=a(33),Ae=a(90),Pe=a(112),Le=a.n(Pe),Fe=a(113),De=a(9),Ge=a.n(De),Ke=a(15),qe=a(61);a(145),a(148);qe.a.initializeApp({apiKey:"AIzaSyBddcNgBCgi2Vn3KpXnNZ21XFNsG_RCqlk",authDomain:"react-shop-3a5cb.firebaseapp.com",projectId:"react-shop-3a5cb",storageBucket:"https://react-shop-3a5cb.firebaseio.com",messagingSenderId:"124673913746",appId:"1:124673913746:web:6cbbd5a5d7d093a9e5474b"});var Be=qe.a.firestore(),He=qe.a.auth(),Ve=qe.a,Ye=Ge.a.mark(Xe),Me=Ge.a.mark(Je),We=Ge.a.mark(ze);function Xe(){var e,t;return Ge.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Be.collection("products").get();case 3:return e=a.sent,t=e.docs.map((function(e){return e.data()})),a.next=7,Object(Ke.c)({type:te,payload:t});case 7:a.next=13;break;case 9:return a.prev=9,a.t0=a.catch(0),a.next=13,Object(Ke.c)((n=a.t0,{type:ae,payload:n}));case 13:case"end":return a.stop()}var n}),Ye,null,[[0,9]])}function Je(){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ke.d)(ee,Xe);case 2:case"end":return e.stop()}}),Me)}function ze(){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ke.a)([Object(Ke.b)(Je)]);case 2:case"end":return e.stop()}}),We)}var Qe=a(14),Ze=a(39),$e=function(){return new Promise((function(e,t){var a=He.onAuthStateChanged((function(t){a(),e(t)}),t)}))},et=function(){var e=Object(Ze.a)(Ge.a.mark((function e(t,a){var n,r,c;return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return n=t.email,r=t.displayName,c=Ve.firestore().collection("users").doc(t.uid),e.next=6,c.get();case 6:if(e.sent.exists){e.next=16;break}return e.prev=8,e.next=11,c.set(Object(Qe.a)({email:n,displayName:r,createdAt:new Date},a));case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(8),console.log("Error while creating user "+e.t0.message);case 16:return e.abrupt("return",c);case 17:case"end":return e.stop()}}),e,null,[[8,13]])})));return function(t,a){return e.apply(this,arguments)}}(),tt=Ge.a.mark(mt),at=Ge.a.mark(pt),nt=Ge.a.mark(dt),rt=Ge.a.mark(Et),ct=Ge.a.mark(ft),lt=Ge.a.mark(bt),ot=Ge.a.mark(ht),ut=Ge.a.mark(vt),st=Ge.a.mark(gt),it=Ge.a.mark(Ot);function mt(e,t){var a,n;return Ge.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(Ke.b)(et,e,t);case 3:return a=r.sent,r.next=6,a.get();case 6:return n=r.sent,r.next=9,Object(Ke.c)((c=n.data(),{type:h,payload:c}));case 9:r.next=15;break;case 11:return r.prev=11,r.t0=r.catch(0),r.next=15,Object(Ke.c)(k(r.t0.message));case 15:case"end":return r.stop()}var c}),tt,null,[[0,11]])}function pt(){var e;return Ge.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Ke.b)($e);case 3:if(e=t.sent){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,Object(Ke.b)(mt,e);case 8:t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(0),t.next=14,Object(Ke.c)(k(t.t0.message));case 14:case"end":return t.stop()}}),at,null,[[0,10]])}function dt(e){var t,a,n,r,c;return Ge.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.payload,a=t.email,n=t.password,l.prev=1,l.next=4,He.signInWithEmailAndPassword(a,n);case 4:return r=l.sent,c=r.user,l.next=8,Object(Ke.b)(mt,c);case 8:l.next=14;break;case 10:return l.prev=10,l.t0=l.catch(1),l.next=14,Object(Ke.c)(k(l.t0.message));case 14:case"end":return l.stop()}}),nt,null,[[1,10]])}function Et(){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,He.signOut();case 3:return e.next=5,Object(Ke.c)({type:y});case 5:e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),e.next=11,Object(Ke.c)((t=e.t0.message,{type:w,payload:t}));case 11:case"end":return e.stop()}var t}),rt,null,[[0,7]])}function ft(e){var t,a,n,r,c,l;return Ge.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,a=t.email,n=t.password,r=t.additionalData,o.prev=1,o.next=4,He.createUserWithEmailAndPassword(a,n);case 4:return c=o.sent,l=c.user,o.next=8,Object(Ke.b)(mt,l,r);case 8:o.next=14;break;case 10:return o.prev=10,o.t0=o.catch(1),o.next=14,Object(Ke.c)(k(o.t0.message));case 14:case"end":return o.stop()}}),ct,null,[[1,10]])}function bt(){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ke.d)(f,pt);case 2:case"end":return e.stop()}}),lt)}function ht(){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ke.d)(b,dt);case 2:case"end":return e.stop()}}),ot)}function vt(){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ke.d)(j,Et);case 2:case"end":return e.stop()}}),ut)}function gt(){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ke.d)(g,ft);case 2:case"end":return e.stop()}}),st)}function Ot(){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ke.a)([Object(Ke.b)(ht),Object(Ke.b)(bt),Object(Ke.b)(vt),Object(Ke.b)(gt)]);case 2:case"end":return e.stop()}}),it)}var jt=Ge.a.mark(yt);function yt(){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ke.a)([Object(Ke.b)(ze),Object(Ke.b)(Ot)]);case 2:case"end":return e.stop()}}),jt)}var wt={allProducts:[],isLoading:!1,error:null},kt={currentUser:null,error:null},xt=a(20),_t=function(e,t){var a=e.find((function(e){return e.id===t.id}));return a?e.map((function(e){return e.id===a.id?Object(Qe.a)(Object(Qe.a)({},e),{},{qty:e.qty+=1}):e})):[].concat(Object(xt.a)(e),[Object(Qe.a)(Object(Qe.a)({},t),{},{qty:1})])},St=function(e,t){return e.filter((function(e){return e.id!==t}))},Nt={cartItems:[]},Ct=function(e,t){return e.find((function(e){return e===t}))?e.filter((function(e){return e!==t})):[].concat(Object(xt.a)(e),[t])},Tt=[],Rt=[],It=Object(Ue.c)({products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee:return Object(Qe.a)(Object(Qe.a)({},e),{},{isLoading:!0});case te:return Object(Qe.a)(Object(Qe.a)({},e),{},{allProducts:t.payload,isLoading:!1});case ae:return Object(Qe.a)(Object(Qe.a)({},e),{},{isLoading:!1,error:t.payload});default:return e}},userAuth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:case g:return Object(Qe.a)(Object(Qe.a)({},e),{},{currentUser:null,error:null});case h:return Object(Qe.a)(Object(Qe.a)({},e),{},{currentUser:t.payload,error:null});case v:return Object(Qe.a)(Object(Qe.a)({},e),{},{currentUser:null,error:t.payload});case y:return Object(Qe.a)(Object(Qe.a)({},e),{},{currentUser:null,error:null});case O:return Object(Qe.a)(Object(Qe.a)({},e),{},{error:t.payload});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:return Object(Qe.a)(Object(Qe.a)({},e),{},{cartItems:_t(e.cartItems,t.payload)});case q:return Object(Qe.a)(Object(Qe.a)({},e),{},{cartItems:St(e.cartItems,t.payload)});case B:return Object(Qe.a)(Object(Qe.a)({},e),{},{cartItems:[]});default:return e}},favorites:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return Ct(e,t.payload);default:return e}},orders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt,t=arguments.length>1?arguments[1]:void 0;return t.type,e}}),Ut={key:"root",storage:Le.a,whitelist:["cart","favorites"]},At=window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e},Pt=Object(Fe.a)(),Lt=Object(Ae.a)(Ut,It),Ft=Object(Ue.e)(Lt,Object(Ue.d)(Object(Ue.a)(Pt),At)),Dt=Object(Ae.b)(Ft);Pt.run(yt),l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,{store:Ft},r.a.createElement(Ie.a,{loading:"loading...",persistor:Dt},r.a.createElement(E.a,{basename:"/react-shop"},r.a.createElement(Re,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[123,1,2]]]);
//# sourceMappingURL=main.7d5e62df.chunk.js.map